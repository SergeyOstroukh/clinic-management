# üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

## ‚úÖ –°–ø–æ—Å–æ–± 1: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ PM2 (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
pm2 restart clinic
```

**–ß—Ç–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –∑–∞–Ω–æ–≤–æ
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞:**
```bash
pm2 status
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å `online`.

---

## ‚úÖ –°–ø–æ—Å–æ–± 2: –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
pm2 stop clinic

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
pm2 start clinic
```

---

## ‚úÖ –°–ø–æ—Å–æ–± 3: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è PM2

```bash
pm2 restart all
```

---

## ‚úÖ –°–ø–æ—Å–æ–± 4: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å –æ—á–∏—Å—Ç–∫–æ–π –ª–æ–≥–æ–≤

```bash
pm2 restart clinic --update-env
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:
```bash
pm2 status
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:
```bash
pm2 logs clinic
```

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
üöÄ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3001
üìä API –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É http://localhost:3001/api
```

---

## ‚ö†Ô∏è –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –≤–µ—Å—å —Å–µ—Ä–≤–µ—Ä (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–í–ù–ò–ú–ê–ù–ò–ï:** –≠—Ç–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç –≤–µ—Å—å —Å–µ—Ä–≤–µ—Ä, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ!

```bash
sudo reboot
```

**–ò–ª–∏ —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞" –∏–ª–∏ "Reboot"
- –ù–∞–∂–º–∏—Ç–µ "–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–µ—Ä–≤–µ—Ä"

**–û–±—ã—á–Ω–æ —ç—Ç–æ –ù–ï –Ω—É–∂–Ω–æ!** –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ PM2.

---

## üéØ –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å

### –ù—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å, –µ—Å–ª–∏:
- ‚úÖ –ò–∑–º–µ–Ω–∏–ª–∏ –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ –ò–∑–º–µ–Ω–∏–ª–∏ —Ñ–∞–π–ª `.env`
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
- ‚úÖ –ù—É–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ù–ï –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å, –µ—Å–ª–∏:
- ‚ùå –ò–∑–º–µ–Ω–∏–ª–∏ —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã –≤ `/public_html` (React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
- ‚ùå –ò–∑–º–µ–Ω–∏–ª–∏ `.htaccess` (–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –Ω–µ –Ω—É–∂–Ω–∞)

---

## üìã –ë—ã—Å—Ç—Ä–∞—è –∫–æ–º–∞–Ω–¥–∞

–ü—Ä–æ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
pm2 restart clinic
```

–ò –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
pm2 status
```

**–ì–æ—Ç–æ–≤–æ!** üéâ

---

## üÜò –ï—Å–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –Ω–µ –ø–æ–º–æ–≥

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:

```bash
pm2 logs clinic --err
```

–¢–∞–º –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–∂–µ—Ç –ø–æ–Ω—è—Ç—å –ø—Ä–æ–±–ª–µ–º—É.

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–∞–¥–∞–µ—Ç —Å—Ä–∞–∑—É

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `.env`:
   ```bash
   cat ~/dantist-cilinic.by/id_rsa/server/.env
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
   ```bash
   cd ~/dantist-cilinic.by/id_rsa/server
   npm list
   ```

3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Ä—É—á–Ω—É—é (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏):
   ```bash
   cd ~/dantist-cilinic.by/id_rsa/server
   node index.js
   ```

   –ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∞ - —É–≤–∏–¥–∏—Ç–µ –µ—ë —Å—Ä–∞–∑—É.

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã PM2

```bash
pm2 restart clinic      # –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
pm2 stop clinic        # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
pm2 start clinic       # –ó–∞–ø—É—Å—Ç–∏—Ç—å
pm2 delete clinic      # –£–¥–∞–ª–∏—Ç—å –∏–∑ PM2
pm2 reload clinic      # –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ (zero-downtime)
pm2 logs clinic        # –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
pm2 monit              # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
```

---

## ‚úÖ –ò—Ç–æ–≥

**–î–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**

```bash
pm2 restart clinic
```

**–≠—Ç–æ –≤—Å—ë, —á—Ç–æ –Ω—É–∂–Ω–æ!** üòä

