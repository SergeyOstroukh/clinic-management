# ๐ ะัะพะฒะตัะบะฐ ะทะฐะฟััะตะฝ ะปะธ ัะตัะฒะตั ะฝะฐ ัะพััะธะฝะณะต

## โ ะกะฟะพัะพะฑ 1: ะัะพะฒะตัะธัั ัะตัะตะท PM2 (ะกะะะซะ ะะะะกะขะะ)

ะ ัะตัะผะธะฝะฐะปะต ะฝะฐ ัะตัะฒะตัะต ะฒัะฟะพะปะฝะธัะต:

```bash
pm2 status
```

**ะงัะพ ะฒั ัะฒะธะดะธัะต:**

ะัะปะธ ัะตัะฒะตั ะทะฐะฟััะตะฝ:
```
โโโโโโโฌโโโโโโโโโโฌโโโโโโโโโโโโโโฌโโโโโโโโโโฌโโโโโโโโโโฌโโโโโโโโโโโ
โ id  โ name    โ namespace  โ version โ mode    โ pid      โ
โโโโโโโผโโโโโโโโโโผโโโโโโโโโโโโโโผโโโโโโโโโโผโโโโโโโโโโผโโโโโโโโโโโค
โ 0   โ clinic  โ default    โ 1.0.0   โ fork    โ 2882047  โ
โโโโโโโดโโโโโโโโโโดโโโโโโโโโโโโโโดโโโโโโโโโโดโโโโโโโโโโดโโโโโโโโโโโ
```

**ะะฑัะฐัะธัะต ะฒะฝะธะผะฐะฝะธะต ะฝะฐ:**
- **name:** `clinic` - ะฝะฐะทะฒะฐะฝะธะต ะฒะฐัะตะณะพ ะฟัะธะปะพะถะตะฝะธั
- **status:** ะดะพะปะถะฝะพ ะฑััั `online` (ะทะตะปะตะฝัะผ)
- **uptime:** ะฒัะตะผั ัะฐะฑะพัั (ะฝะฐะฟัะธะผะตั, `5m` ะธะปะธ `2h`)

ะัะปะธ ัะตัะฒะตั ะะ ะทะฐะฟััะตะฝ:
- ะขะฐะฑะปะธัะฐ ะฑัะดะตั ะฟัััะฐั
- ะะปะธ ััะฐััั ะฑัะดะตั `stopped` ะธะปะธ `errored`

---

## โ ะกะฟะพัะพะฑ 2: ะัะพะฒะตัะธัั ะปะพะณะธ

```bash
pm2 logs clinic
```

**ะงัะพ ะฒั ัะฒะธะดะธัะต:**

ะัะปะธ ัะตัะฒะตั ัะฐะฑะพัะฐะตั:
```
0|clinic | ๐ ะกะตัะฒะตั ะทะฐะฟััะตะฝ ะฝะฐ ะฟะพััั 3001
0|clinic | ๐ API ะดะพัััะฟะตะฝ ะฟะพ ะฐะดัะตัั http://localhost:3001/api
0|clinic | ๐ ะัะธะปะพะถะตะฝะธะต ะดะพัััะฟะฝะพ ะฝะฐ http://localhost:3001
```

ะัะปะธ ัะตัะฒะตั ะฝะต ัะฐะฑะพัะฐะตั:
- ะัะดะตั ะพัะธะฑะบะฐ
- ะะปะธ ะฝะธัะตะณะพ ะฝะต ะฑัะดะตั

**ะงัะพะฑั ะฒัะนัะธ ะธะท ะปะพะณะพะฒ:** ะะฐะถะผะธัะต `Ctrl + C`

---

## โ ะกะฟะพัะพะฑ 3: ะัะพะฒะตัะธัั ะฟัะพัะตัั

```bash
ps aux | grep node
```

**ะงัะพ ะฒั ัะฒะธะดะธัะต:**

ะัะปะธ ัะตัะฒะตั ะทะฐะฟััะตะฝ:
```
dantistcil  2882047  0.0  2.1  ... node /home/dantistcil/.../index.js
```

ะัะปะธ ัะตัะฒะตั ะฝะต ะทะฐะฟััะตะฝ:
- ะัะดะตั ัะพะปัะบะพ ัััะพะบะฐ ั `grep` (ััะพ ะฝะต ััะธัะฐะตััั)

---

## โ ะกะฟะพัะพะฑ 4: ะัะพะฒะตัะธัั ะฟะพัั

```bash
netstat -tulpn | grep 3001
```

ะะปะธ:

```bash
lsof -i :3001
```

**ะงัะพ ะฒั ัะฒะธะดะธัะต:**

ะัะปะธ ัะตัะฒะตั ะทะฐะฟััะตะฝ:
```
tcp  0  0  0.0.0.0:3001  0.0.0.0:*  LISTEN  2882047/node
```

ะัะปะธ ัะตัะฒะตั ะฝะต ะทะฐะฟััะตะฝ:
- ะะธัะตะณะพ ะฝะต ะฑัะดะตั

---

## โ ะกะฟะพัะพะฑ 5: ะัะพะฒะตัะธัั ัะตัะตะท ะฑัะฐัะทะตั (ะตัะปะธ ะฟะพัั ะพัะบััั)

ะัะบัะพะนัะต ะฒ ะฑัะฐัะทะตัะต:

```
http://93.125.99.149:3001
```

ะะปะธ:

```
http://dantist-cilinic.by:3001
```

**ะงัะพ ะฒั ัะฒะธะดะธัะต:**

ะัะปะธ ัะตัะฒะตั ัะฐะฑะพัะฐะตั:
- ะัะบัะพะตััั ะธะฝัะตััะตะนั ะฟัะธะปะพะถะตะฝะธั
- ะะปะธ API ะพัะฒะตัะธั (ะตัะปะธ ะพัะบัััั `/api/clients`)

ะัะปะธ ัะตัะฒะตั ะฝะต ัะฐะฑะพัะฐะตั:
- ะัะธะฑะบะฐ "Connection refused"
- ะะปะธ "Timeout"

---

## ๐ ะัะปะธ ัะตัะฒะตั ะะ ะทะฐะฟััะตะฝ - ะบะฐะบ ะทะฐะฟัััะธัั

### ะะฐัะธะฐะฝั 1: ะงะตัะตะท PM2

```bash
cd ~/dantist-cilinic.by/id_rsa/server
pm2 start index.js --name clinic
pm2 save
```

### ะะฐัะธะฐะฝั 2: ะะตัะตะทะฐะฟัััะธัั

```bash
pm2 restart clinic
```

### ะะฐัะธะฐะฝั 3: ะัะปะธ PM2 ะฝะต ัะฐะฑะพัะฐะตั

```bash
cd ~/dantist-cilinic.by/id_rsa/server
node index.js
```

(ะะพ ััะพ ะทะฐะฟัััะธั ะฒ ัะตะบััะตะน ัะตััะธะธ - ะทะฐะบัะพะนัะต ัะตัะผะธะฝะฐะป ะธ ัะตัะฒะตั ะพััะฐะฝะพะฒะธััั)

---

## ๐ ะััััะฐั ะฟัะพะฒะตัะบะฐ (ะฒัะต ะบะพะผะฐะฝะดั ััะฐะทั)

ะัะฟะพะปะฝะธัะต ะฒ ัะตัะผะธะฝะฐะปะต:

```bash
# 1. ะกัะฐััั PM2
pm2 status

# 2. ะะพะณะธ (ะฟะพัะปะตะดะฝะธะต 20 ัััะพะบ)
pm2 logs clinic --lines 20

# 3. ะัะพะฒะตัะบะฐ ะฟะพััะฐ
netstat -tulpn | grep 3001
```

---

## ๐ ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ

### ะัะพะฑะปะตะผะฐ: "pm2: command not found"

PM2 ะฝะต ัััะฐะฝะพะฒะปะตะฝ. ะฃััะฐะฝะพะฒะธัะต:

```bash
npm install -g pm2
```

### ะัะพะฑะปะตะผะฐ: ะกะตัะฒะตั ะทะฐะฟััะตะฝ, ะฝะพ ะฝะต ะพัะฒะตัะฐะตั

1. ะัะพะฒะตัััะต ะปะพะณะธ ะฝะฐ ะพัะธะฑะบะธ:
   ```bash
   pm2 logs clinic
   ```

2. ะัะพะฒะตัััะต ัะฐะนะป .env:
   ```bash
   cat ~/dantist-cilinic.by/id_rsa/server/.env
   ```

3. ะะตัะตะทะฐะฟัััะธัะต:
   ```bash
   pm2 restart clinic
   ```

### ะัะพะฑะปะตะผะฐ: ะกะตัะฒะตั ะฟะฐะดะฐะตั ััะฐะทั ะฟะพัะปะต ะทะฐะฟััะบะฐ

ะัะพะฒะตัััะต ะปะพะณะธ:

```bash
pm2 logs clinic --err
```

ะขะฐะผ ะฑัะดะตั ะพัะธะฑะบะฐ, ะบะพัะพัะฐั ะฟะพะผะพะถะตั ะฟะพะฝััั ะฟัะพะฑะปะตะผั.

---

## โ ะงะตะบ-ะปะธัั ะฟัะพะฒะตัะบะธ

- [ ] `pm2 status` ะฟะพะบะฐะทัะฒะฐะตั `clinic` ัะพ ััะฐัััะพะผ `online`
- [ ] `pm2 logs clinic` ะฟะพะบะฐะทัะฒะฐะตั ัะพะพะฑัะตะฝะธั ะพ ะทะฐะฟััะบะต
- [ ] `netstat -tulpn | grep 3001` ะฟะพะบะฐะทัะฒะฐะตั, ััะพ ะฟะพัั ัะปััะฐะตััั
- [ ] ะ ะฑัะฐัะทะตัะต ะพัะบััะฒะฐะตััั ะฟัะธะปะพะถะตะฝะธะต (ะตัะปะธ ะฟะพัั ะพัะบััั)

**ะัะปะธ ะฒัะต ะฟัะฝะบัั ะฒัะฟะพะปะฝะตะฝั - ัะตัะฒะตั ัะฐะฑะพัะฐะตั!** ๐

